@import 'leaflet/dist/leaflet.css';
@import 'leaflet.markercluster/dist/MarkerCluster.css';
@import 'leaflet.markercluster/dist/MarkerCluster.Default.css';

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
:root {
      --background: 151 40% 99%;
      --foreground: 151 63% 1%;
      --muted: 151 34% 87%;
      --muted-foreground: 151 11% 34%;
      --popover: 151 40% 99%;
      --popover-foreground: 151 63% 1%;
      --card: 151 40% 98%;
      --card-foreground: 0 0% 0%;
      --border: 151 7% 91%;
      --input: 151 7% 91%;
      --primary: 151 50% 62%;
      --primary-foreground: 151 50% 2%;
      --secondary: 151 10% 84%;
      --secondary-foreground: 151 10% 24%;
      --accent: 151 15% 76%;
      --accent-foreground: 151 15% 16%;
      --destructive: 16 83% 23%;
      --destructive-foreground: 16 83% 83%;
      --ring: 151 50% 62%;
      --chart-1: 151 50% 62%;
      --chart-2: 151 10% 84%;
      --chart-3: 151 15% 76%;
      --chart-4: 151 10% 87%;
      --chart-5: 151 53% 62%;
      --radius: 0.5rem;
    }
  
    .dark {
            --background: 151 37% 3%;
      --foreground: 151 30% 98%;
      --muted: 151 34% 13%;
      --muted-foreground: 151 11% 66%;
      --popover: 151 37% 3%;
      --popover-foreground: 151 30% 98%;
      --card: 151 37% 4%;
      --card-foreground: 151 30% 99%;
      --border: 151 7% 10%;
      --input: 151 7% 10%;
      --primary: 151 50% 62%;
      --primary-foreground: 151 50% 2%;
      --secondary: 151 9% 15%;
      --secondary-foreground: 151 9% 75%;
      --accent: 151 17% 22%;
      --accent-foreground: 151 17% 82%;
      --destructive: 16 83% 53%;
      --destructive-foreground: 0 0% 100%;
      --ring: 151 50% 62%;
      --chart-1: 151 50% 62%;
      --chart-2: 151 9% 15%;
      --chart-3: 151 17% 22%;
      --chart-4: 151 9% 18%;
      --chart-5: 151 53% 62%;
    }
  .leaflet-container {
    @apply !bg-card !font-[inherit];
  }
  .leaflet-container a {
    @apply !text-inherit;
  }
  .leaflet-div-icon {
    @apply !bg-transparent !border-none;
  }
  .leaflet-popup-content-wrapper, .leaflet-popup-content, .leaflet-popup-content p {
    @apply ![all:unset];
  }
  .leaflet-popup {
    @apply !animate-none;
  }
  .leaflet-popup-close-button {
    @apply ring-offset-background focus:ring-ring bg-secondary rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:outline-hidden;
  }
  .leaflet-tooltip, .leaflet-draw-tooltip {
    @apply !bg-foreground !text-background !animate-none !rounded-md !border-none !p-0 !px-3 !py-1.5 !shadow-none;
  }
  .leaflet-draw-tooltip:before {
    @apply bg-foreground !top-1/2 !right-0.5 size-2.5 translate-x-1/2 -translate-y-1/2 rotate-45 rounded-[2px] !border-none;
  }
  .leaflet-error-draw-tooltip {
    @apply !bg-destructive !text-white;
  }
  .leaflet-error-draw-tooltip:before {
    @apply bg-destructive;
  }
  .leaflet-draw-tooltip-subtext {
    @apply !text-background;
  }
  .leaflet-popup-tip-container, .leaflet-tooltip-top:before, .leaflet-tooltip-bottom:before, .leaflet-tooltip-left:before, .leaflet-tooltip-right:before {
    @apply hidden;
  }
  .leaflet-control-attribution {
    @apply !bg-muted rounded-md !px-[4px] !py-[2px] text-[10px] !leading-none !text-inherit;
  }
  .leaflet-draw-guide-dash {
    @apply rounded-full;
  }
  .leaflet-edit-marker-selected {
    @apply !border-transparent !bg-transparent;
  }
}

/* Custom cluster styling */
.typed-marker-cluster {
  background: transparent !important;
}

.typed-cluster {
  width: 50px;
  height: 50px;
  border-radius: 50%;
  border: 3px solid;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  position: relative;
  background: rgba(255, 255, 255, 0.95);
  box-shadow: 0 3px 12px rgba(0,0,0,0.4);
  transition: all 0.2s ease;
}

.typed-cluster:hover {
  transform: scale(1.1);
  box-shadow: 0 5px 20px rgba(0,0,0,0.6);
}

.cluster-icon {
  font-size: 18px;
  line-height: 1;
  margin-bottom: 2px;
}

.cluster-count {
  font-size: 11px;
  font-weight: bold;
  line-height: 1;
}

.user-location-marker {
  background: transparent !important;
  border: none !important;
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}